# "(P"
copy_to_temp ["i",1,13]
copy_to_temp ["i",2,12]
push_temp ["i",1,9]
POP 8
IDENTITY 7
pop_temp ["i",1,9]
3
MUL 10
MUL 11
pop_temp ["i",2,12]
POP 4
2
POW 5
NEG 6
pop_temp ["i",1,13]
2
POW 2
3
MUL 3
push_temp ["i",1,15]
ADD 14
pop_temp ["i",1,15]
DIV 16
# "P)"
# "(Q"
copy_to_temp ["i",1,36]
copy_to_temp ["i",2,35]
copy_to_temp ["i",3,34]
push_temp ["i",1,30]
POP 29
POP 28
IDENTITY 27
pop_temp ["i",1,30]
2
POW 31
27
MUL 32
MUL 33
pop_temp ["i",3,34]
9
MUL 23
MUL 24
MUL 25
NEG 26
pop_temp ["i",2,35]
POP 20
3
POW 21
2
MUL 22
pop_temp ["i",1,36]
3
POW 18
27
MUL 19
push_temp ["i",1,39]
ADD 37
ADD 38
pop_temp ["i",1,39]
DIV 40
# "Q)"
# "(S"
3
MUL 42
DIV 43
NEG 44
# "S)"
# "(R"
push_temp ["i",1,47]
POP 46
pop_temp ["i",1,47]
3
DIV 48
NEG 49
SQRT 50
2
MUL 51
# "R)"
# "(A"
copy_to_temp ["i",2,54]
DIV 53
pop_temp ["i",2,54]
push_temp ["i",1,47]
POP 46
pop_temp ["i",1,47]
3
DIV 48
NEG 49
SQRT 50
2
MUL 51
DIV 55
3
MUL 56
ASIN 57
1.5707963267948966
FLIP 59
SUB 60
# "A)"
# "(D"
copy_to_temp ["i",2,67]
push_func ["A",[2,1],[80,19],234739416516230572,0]
call 62
6.283185307179586
SUB 63
3
DIV 64
1.5707963267948966
ADD 65
SIN 66
pop_temp ["i",2,67]
push_temp ["i",1,47]
POP 46
pop_temp ["i",1,47]
3
DIV 48
NEG 49
SQRT 50
2
MUL 51
MUL 68
# "D)"
# "(Cubic"
copy_to_temp ["i",3,73]
copy_to_temp ["i",4,72]
push_temp ["i",2,72]
POP 72
POP 72
pop_temp ["i",2,72]
3
MUL 42
DIV 43
NEG 44
pop_temp ["i",4,72]
push_func ["Q",[4,1],[26,35],4869514047757524576,0]
call 71
pop_temp ["i",3,73]
push_func ["P",[3,1],[1,23],9301101579176423057,0]
call 70
push_func ["D",[2,1],[101,21],18429645566749922402,0]
call 74
ADD 75
# "Cubic)"
# "(Cc"
copy_to_temp ["i",1,95]
copy_to_temp ["i",1,94]
copy_to_temp ["i",2,93]
push_temp ["i",1,93]
POP 93
pop_temp ["i",1,93]
2
POW 91
-3.0
MUL 92
pop_temp ["i",2,93]
POP 88
2
POW 89
NEG 90
pop_temp ["i",1,94]
10
ADD 87
pop_temp ["i",1,95]
-30.0
ADD 86
2
MUL 96
MUL 97
ADD 98
ADD 99
# "Cc)"
# "(Cd"
600.0
MUL 103
# "Cd)"
# "(Param"
copy_to_temp ["i",2,106]
push_temp ["i",1,106]
POP 106
pop_temp ["i",1,106]
600.0
MUL 103
pop_temp ["i",2,106]
push_func ["Cc",[2,1],[145,26],4177390436223481226,0]
call 105
40
1
push_func ["Cubic",[4,1],[124,19],13603938536600185530,0]
call 109
# "Param)"
# "(Normalise"
-30.0
SUB 111
40.0
DIV 113
# "Normalise)"
# "(Shade"
20
MUL 115
push_temp ["i",1,117]
24
DIV 116
pop_temp ["i",1,117]
ADD 118
FLOOR 119
2
MOD 120
# "Shade)"
[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47]
# "(fn from test.ua:29:4"
FLIP 126
2
DIV 127
SUB 128
UN_COUPLE 129
push_func ["Param",[2,1],[177,13],15355382159573525386,0]
call 131
-30.0
SUB 111
40
DIV 113
# "fn from test.ua:29:4)"
[100,100]
copy_to_temp ["i",1,124]
FIX 123
pop_temp ["i",1,124]
RANGE 125
1
OVER 133
SHAPE 133
OVER 133
push_temp ["u",2,133]
RERANK 133
push_func [["test.ua",[29,4,959,783],[29,29,988,808]],[2,1],[211,11],15460361081404041672,0]
ROWS 132
pop_temp ["u",2,133]
UNDO_RERANK 133
# "(fn from test.ua:31:2"
1
OVER 135
SHAPE 135
OVER 135
push_temp ["u",2,135]
RERANK 135
20
MUL 115
push_temp ["i",1,117]
24
DIV 116
pop_temp ["i",1,117]
ADD 118
FLOOR 119
2
MOD 120
pop_temp ["u",2,135]
UNDO_RERANK 135
# "fn from test.ua:31:2)"
FIX 134
push_func [["test.ua",[31,2,1008,821],[31,14,1024,833]],[2,1],[239,18],4511242851699947634,0]
EACH 136

TOP SLICES
209 1
223 15
258 3

BINDINGS
func ["P",[3,1],[1,23],9301101579176423057,0]
func ["Q",[4,1],[26,35],4869514047757524576,0]
func ["S",[2,1],[63,4],17371865316857063890,0]
func ["R",[2,1],[69,9],13175028395619274696,0]
func ["A",[2,1],[80,19],234739416516230572,0]
func ["D",[2,1],[101,21],18429645566749922402,0]
func ["Cubic",[4,1],[124,19],13603938536600185530,0]
const 10
const -30.0
const 20
const 24
const [100,100]
const 40.0
func ["Cc",[2,1],[145,26],4177390436223481226,0]
func ["Cd",[1,1],[173,2],8958105146477255022,0]
func ["Param",[2,1],[177,13],15355382159573525386,0]
func ["Normalise",[1,1],[192,4],13387626595482653624,0]
func ["Shade",[2,1],[198,10],13077378743640169749,0]

SPANS
"test.ua" [1,1,0,0] [1,2,1,1]
"test.ua" [1,12,19,11] [1,13,22,12]
"test.ua" [1,10,16,9] [1,11,18,10]
"test.ua" [1,18,30,17] [1,19,33,18]
"test.ua" [1,16,26,15] [1,17,29,16]
"test.ua" [1,15,24,14] [1,16,26,15]
"test.ua" [1,25,45,24] [1,26,48,25]
"test.ua" [1,24,42,23] [1,25,45,24]
"test.ua" [1,23,39,22] [1,24,42,23]
"test.ua" [1,21,36,20] [1,22,38,21]
"test.ua" [1,20,34,19] [1,21,36,20]
"test.ua" [1,8,12,7] [1,9,15,8]
"test.ua" [1,8,12,7] [1,9,15,8]
"test.ua" [1,7,11,6] [1,8,12,7]
"test.ua" [1,6,8,5] [1,7,11,6]
"test.ua" [1,5,6,4] [1,6,8,5]
"test.ua" [2,1,96,71] [2,2,97,72]
"test.ua" [2,16,119,86] [2,17,122,87]
"test.ua" [2,13,115,83] [2,14,117,84]
"test.ua" [2,23,131,93] [2,24,134,94]
"test.ua" [2,21,127,91] [2,22,130,92]
"test.ua" [2,19,124,89] [2,20,126,90]
"test.ua" [2,28,141,98] [2,29,143,99]
"test.ua" [2,27,139,97] [2,28,141,98]
"test.ua" [2,26,137,96] [2,27,139,97]
"test.ua" [2,25,135,95] [2,26,137,96]
"test.ua" [2,40,164,110] [2,41,167,111]
"test.ua" [2,39,161,109] [2,40,164,110]
"test.ua" [2,38,158,108] [2,39,161,109]
"test.ua" [2,37,155,107] [2,38,158,108]
"test.ua" [2,35,151,105] [2,36,154,106]
"test.ua" [2,32,147,102] [2,33,149,103]
"test.ua" [2,31,145,101] [2,32,147,102]
"test.ua" [2,11,111,81] [2,12,114,82]
"test.ua" [2,11,111,81] [2,12,114,82]
"test.ua" [2,11,111,81] [2,12,114,82]
"test.ua" [2,9,109,79] [2,10,110,80]
"test.ua" [2,8,108,78] [2,9,109,79]
"test.ua" [2,6,104,76] [2,7,107,77]
"test.ua" [2,5,102,75] [2,6,104,76]
"test.ua" [3,1,214,156] [3,2,215,157]
"test.ua" [3,7,224,162] [3,8,226,163]
"test.ua" [3,6,222,161] [3,7,224,162]
"test.ua" [3,5,220,160] [3,6,222,161]
"test.ua" [5,1,280,215] [5,2,281,216]
"test.ua" [5,12,300,226] [5,13,303,227]
"test.ua" [5,11,297,225] [5,12,300,226]
"test.ua" [5,9,294,223] [5,10,296,224]
"test.ua" [5,8,292,222] [5,9,294,223]
"test.ua" [5,7,289,221] [5,8,292,222]
"test.ua" [5,5,286,219] [5,6,288,220]
"test.ua" [6,1,332,254] [6,2,333,255]
"test.ua" [6,16,357,269] [6,17,359,270]
"test.ua" [6,14,353,267] [6,15,356,268]
"test.ua" [6,13,351,266] [6,14,353,267]
"test.ua" [6,11,348,264] [6,12,350,265]
"test.ua" [6,9,344,262] [6,10,347,263]
"test.ua" [6,9,344,262] [6,10,347,263]
"test.ua" [6,6,339,259] [6,7,340,260]
"test.ua" [6,5,338,258] [6,6,339,259]
"test.ua" [7,1,389,298] [7,2,390,299]
"test.ua" [7,17,415,314] [7,18,416,315]
"test.ua" [7,15,412,312] [7,16,413,313]
"test.ua" [7,13,409,310] [7,14,411,311]
"test.ua" [7,10,405,307] [7,11,406,308]
"test.ua" [7,9,402,306] [7,10,405,307]
"test.ua" [7,6,397,303] [7,7,400,304]
"test.ua" [7,5,395,302] [7,6,397,303]
"test.ua" [11,1,524,420] [11,6,529,425]
"test.ua" [11,14,541,433] [11,15,542,434]
"test.ua" [11,16,543,435] [11,17,544,436]
"test.ua" [11,12,537,431] [11,13,540,432]
"test.ua" [11,12,537,431] [11,13,540,432]
"test.ua" [11,10,535,429] [11,11,536,430]
"test.ua" [11,9,534,428] [11,10,535,429]
"test.ua" [13,1,549,441] [13,2,550,442]
"test.ua" [14,1,558,448] [14,2,559,449]
"test.ua" [15,1,569,456] [15,9,577,464]
"test.ua" [16,1,585,470] [16,10,594,479]
"test.ua" [17,1,602,485] [17,5,606,489]
"test.ua" [17,8,611,492] [17,15,618,499]
"test.ua" [19,1,620,501] [19,3,622,503]
"test.ua" [19,9,632,509] [19,10,633,510]
"test.ua" [19,6,627,506] [19,7,629,507]
"test.ua" [20,1,664,541] [20,3,666,543]
"test.ua" [20,13,682,553] [20,14,683,554]
"test.ua" [20,16,685,556] [20,17,686,557]
"test.ua" [20,22,694,562] [20,23,697,563]
"test.ua" [20,20,690,560] [20,21,693,561]
"test.ua" [20,19,688,559] [20,20,690,560]
"test.ua" [20,27,703,567] [20,28,706,568]
"test.ua" [20,24,698,564] [20,25,700,565]
"test.ua" [20,11,678,551] [20,12,681,552]
"test.ua" [20,11,678,551] [20,12,681,552]
"test.ua" [20,11,678,551] [20,12,681,552]
"test.ua" [20,9,675,549] [20,10,677,550]
"test.ua" [20,8,673,548] [20,9,675,549]
"test.ua" [20,7,672,547] [20,8,673,548]
"test.ua" [20,6,671,546] [20,7,672,547]
"test.ua" [21,1,740,600] [21,3,742,602]
"test.ua" [21,8,751,607] [21,9,753,608]
"test.ua" [21,7,749,606] [21,8,751,607]
"test.ua" [21,6,747,605] [21,7,749,606]
"test.ua" [23,1,791,643] [23,6,796,648]
"test.ua" [23,22,816,664] [23,24,818,666]
"test.ua" [23,15,807,657] [23,16,810,658]
"test.ua" [23,15,807,657] [23,16,810,658]
"test.ua" [23,15,807,657] [23,16,810,658]
"test.ua" [23,9,801,651] [23,14,806,656]
"test.ua" [24,1,823,671] [24,10,832,680]
"test.ua" [24,19,844,689] [24,20,845,690]
"test.ua" [24,14,839,684] [24,15,840,685]
"test.ua" [24,13,837,683] [24,14,839,684]
"test.ua" [26,1,862,707] [26,6,867,712]
"test.ua" [26,28,898,734] [26,29,900,735]
"test.ua" [26,16,885,722] [26,17,887,723]
"test.ua" [26,14,881,720] [26,15,884,721]
"test.ua" [26,13,880,719] [26,14,881,720]
"test.ua" [26,11,876,717] [26,12,879,718]
"test.ua" [26,9,872,715] [26,10,875,716]
"test.ua" [28,2,937,768] [28,3,939,769]
"test.ua" [28,1,934,767] [28,2,937,768]
"test.ua" [29,33,996,812] [29,34,998,813]
"test.ua" [29,32,993,811] [29,33,996,812]
"test.ua" [29,31,990,810] [29,32,993,811]
"test.ua" [29,27,986,806] [29,28,987,807]
"test.ua" [29,25,983,804] [29,26,985,805]
"test.ua" [29,24,982,803] [29,25,983,804]
"test.ua" [29,22,978,801] [29,23,981,802]
"test.ua" [29,22,978,801] [29,23,981,802]
"test.ua" [29,15,970,794] [29,20,975,799]
"test.ua" [29,3,956,782] [29,4,959,783]
"test.ua" [29,2,953,781] [29,3,956,782]
"test.ua" [31,14,1024,833] [31,15,1026,834]
"test.ua" [31,5,1013,824] [31,6,1016,825]
"test.ua" [31,1,1005,820] [31,2,1008,821]

FILES
test.ua: "P ← ÷⊙+⊃(×3ⁿ2|¯ⁿ2◌|××3⊙⋅∘)                # a b c ← (3ac - b^2)/(3a^2)\nQ ← ÷⊙(++)⊃(×27ⁿ3|×2ⁿ3◌|¯×××9|××27ⁿ2⊙⋅⋅∘) # a b c d ← (2b^3 - 9abc + 27a^2d)/(27a^3)\nS ← ¯÷×3                                  # a b ← -b/(3a)\n\nR ← ×2√¯÷3⊙◌       # p q ← 2sqrt(-p/3)\nA ← -:η°∿ ×3÷⊃R÷   # p q ← arccos(3(q/p)/R)\nD ← ×⊃R(∿+η ÷3-τA) # p q ← R cos((A-2π)/3)\n\n# solve ax^3 + bx^2 + cx + d = 0\n# assumes 3 real roots - take the middle one\nCubic ← +D ⊃(P|Q|S)\n\na ← 10\nb ← ¯30\nSegments ← 20\nFramerate ← 24\nSize ← 100_100\n\nCb ← ×¯2+a b                  # -2(a+b)\nCc ← ++××2⊃(+b|+a|¯ⁿ2◌|×¯3ⁿ2) # y x ← 2(a+y)(b+y)-x^2-3y^2\nCd ← ×××¯2 a b                # y ← -2aby\n\nParam ← Cubic ⊃(1|Cb|Cc|Cd)\nNormalise ← ÷-b a -b # (t-b)/(a-b)\n\nShade ← ◿2⌊ +⊙(÷Framerate) ×Segments # value time ← 0 or 1\n\n⇡×2Framerate\n⍜☇≡(Normalise Param °⊟ -÷2:)1 ⇡⟜¤ Size\n\n∵(⍜(☇1)Shade)¤\n"
