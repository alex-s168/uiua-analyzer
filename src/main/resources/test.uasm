Comment "(P"
CopyToTemp ["i",1,12]
CopyToTemp ["i",2,12]
PushTemp ["i",1,9]
POP 8
IDENTITY 7
PopTemp ["i",1,9]
3
MUL 10
MUL 11
PopTemp ["i",2,12]
POP 4
2
POW 5
NEG 6
PopTemp ["i",1,12]
2
POW 2
3
MUL 3
PushTemp ["i",1,14]
ADD 13
PopTemp ["i",1,14]
DIV 15
Comment "P)"
Comment "(Q"
CopyToTemp ["i",1,33]
CopyToTemp ["i",2,33]
CopyToTemp ["i",3,33]
PushTemp ["i",1,29]
POP 28
POP 27
IDENTITY 26
PopTemp ["i",1,29]
2
POW 30
27
MUL 31
MUL 32
PopTemp ["i",3,33]
9
MUL 22
MUL 23
MUL 24
NEG 25
PopTemp ["i",2,33]
POP 19
3
POW 20
2
MUL 21
PopTemp ["i",1,33]
3
POW 17
27
MUL 18
PushTemp ["i",1,36]
ADD 34
ADD 35
PopTemp ["i",1,36]
DIV 37
Comment "Q)"
Comment "(S"
3
MUL 39
DIV 40
NEG 41
Comment "S)"
Comment "(R"
PushTemp ["i",1,44]
POP 43
PopTemp ["i",1,44]
3
DIV 45
NEG 46
SQRT 47
2
MUL 48
Comment "R)"
Comment "(A"
CopyToTemp ["i",2,51]
DIV 50
PopTemp ["i",2,51]
PushTemp ["i",1,44]
POP 43
PopTemp ["i",1,44]
3
DIV 45
NEG 46
SQRT 47
2
MUL 48
DIV 52
3
MUL 53
ASIN 54
1.5707963267948966
FLIP 55
SUB 56
Comment "A)"
Comment "(D"
CopyToTemp ["i",2,63]
PushFunc ["A",[2,1],[80,19],6903701372288868125,0]
Call 58
6.283185307179586
SUB 59
3
DIV 60
1.5707963267948966
ADD 61
SIN 62
PopTemp ["i",2,63]
PushTemp ["i",1,44]
POP 43
PopTemp ["i",1,44]
3
DIV 45
NEG 46
SQRT 47
2
MUL 48
MUL 64
Comment "D)"
Comment "(Cubic"
CopyToTemp ["i",3,68]
CopyToTemp ["i",4,68]
PushTemp ["i",2,68]
POP 68
POP 68
PopTemp ["i",2,68]
3
MUL 39
DIV 40
NEG 41
PopTemp ["i",4,68]
CopyToTemp ["i",1,33]
CopyToTemp ["i",2,33]
CopyToTemp ["i",3,33]
PushTemp ["i",1,29]
POP 28
POP 27
IDENTITY 26
PopTemp ["i",1,29]
2
POW 30
27
MUL 31
MUL 32
PopTemp ["i",3,33]
9
MUL 22
MUL 23
MUL 24
NEG 25
PopTemp ["i",2,33]
POP 19
3
POW 20
2
MUL 21
PopTemp ["i",1,33]
3
POW 17
27
MUL 18
PushTemp ["i",1,36]
ADD 34
ADD 35
PopTemp ["i",1,36]
DIV 37
PopTemp ["i",3,68]
CopyToTemp ["i",1,12]
CopyToTemp ["i",2,12]
PushTemp ["i",1,9]
POP 8
IDENTITY 7
PopTemp ["i",1,9]
3
MUL 10
MUL 11
PopTemp ["i",2,12]
POP 4
2
POW 5
NEG 6
PopTemp ["i",1,12]
2
POW 2
3
MUL 3
PushTemp ["i",1,14]
ADD 13
PopTemp ["i",1,14]
DIV 15
PushFunc ["D",[2,1],[101,21],10483674553583302208,0]
Call 69
ADD 70
Comment "Cubic)"
Comment "(Cc"
CopyToTemp ["i",1,88]
CopyToTemp ["i",1,88]
CopyToTemp ["i",2,88]
PushTemp ["i",1,88]
POP 88
PopTemp ["i",1,88]
2
POW 86
-3.0
MUL 87
PopTemp ["i",2,88]
POP 83
2
POW 84
NEG 85
PopTemp ["i",1,88]
10
ADD 82
PopTemp ["i",1,88]
-30.0
ADD 81
2
MUL 89
MUL 90
ADD 91
ADD 92
Comment "Cc)"
Comment "(Cd"
600.0
MUL 96
Comment "Cd)"
Comment "(Param"
CopyToTemp ["i",2,99]
PushTemp ["i",1,99]
POP 99
PopTemp ["i",1,99]
600.0
MUL 96
PopTemp ["i",2,99]
CopyToTemp ["i",1,88]
CopyToTemp ["i",1,88]
CopyToTemp ["i",2,88]
PushTemp ["i",1,88]
POP 88
PopTemp ["i",1,88]
2
POW 86
-3.0
MUL 87
PopTemp ["i",2,88]
POP 83
2
POW 84
NEG 85
PopTemp ["i",1,88]
10
ADD 82
PopTemp ["i",1,88]
-30.0
ADD 81
2
MUL 89
MUL 90
ADD 91
ADD 92
40
1
PushFunc ["Cubic",[4,1],[124,73],1340803438600321308,0]
Call 100
Comment "Param)"
Comment "(Normalise"
-30.0
SUB 102
40.0
DIV 104
Comment "Normalise)"
Comment "(Shade"
PushTemp ["i",1,108]
24
DIV 107
PopTemp ["i",1,108]
20
MUL 106
ADD 109
FLOOR 110
2
MOD 111
Comment "Shade)"
Comment "(fn from test.ua:28:6"
24
2
MUL 113
RANGE 114
[100,100]
CopyToTemp ["i",1,117]
RANGE 115
[{"TRANSPOSE_N":-1},116]
PopTemp ["i",1,117]
2
DIV 118
SUB 119
UN_COUPLE 120
PushFunc ["Param",[2,1],[231,37],144493005465914419,0]
Call 121
-30.0
SUB 102
40
DIV 104
FIX 122
PushTemp ["i",1,108]
24
DIV 107
PopTemp ["i",1,108]
20
MUL 106
ADD 109
FLOOR 110
2
MOD 111
Comment "fn from test.ua:28:6)"

TOP SLICES

BINDINGS
func ["P",[3,1],[1,23],3938068104520508653,0]
func ["Q",[4,1],[26,35],10581023937814621092,0]
func ["S",[2,1],[63,4],6829780892672626908,0]
func ["R",[2,1],[69,9],17802254371764962308,0]
func ["A",[2,1],[80,19],6903701372288868125,0]
func ["D",[2,1],[101,21],10483674553583302208,0]
func ["Cubic",[4,1],[124,73],1340803438600321308,0]
const 10
const -30.0
const 20
const 24
const [100,100]
const 40.0
func ["Cc",[2,1],[199,26],13600432841808324977,0]
func ["Cd",[1,1],[227,2],2598616444242574163,0]
func ["Param",[2,1],[231,37],144493005465914419,0]
func ["Normalise",[1,1],[270,4],24880535425704429,0]
func ["Shade",[2,1],[276,10],2666022425925675944,0]
func ["fn",[0,1],[288,30],14241641134286713324,0]

SPANS
"test.ua" [1,1,0,0] [1,2,1,1]
"test.ua" [1,12,19,11] [1,13,22,12]
"test.ua" [1,10,16,9] [1,11,18,10]
"test.ua" [1,18,30,17] [1,19,33,18]
"test.ua" [1,16,26,15] [1,17,29,16]
"test.ua" [1,15,24,14] [1,16,26,15]
"test.ua" [1,25,45,24] [1,26,48,25]
"test.ua" [1,24,42,23] [1,25,45,24]
"test.ua" [1,23,39,22] [1,24,42,23]
"test.ua" [1,21,36,20] [1,22,38,21]
"test.ua" [1,20,34,19] [1,21,36,20]
"test.ua" [1,8,12,7] [1,9,15,8]
"test.ua" [1,7,11,6] [1,8,12,7]
"test.ua" [1,6,8,5] [1,7,11,6]
"test.ua" [1,5,6,4] [1,6,8,5]
"test.ua" [2,1,97,71] [2,2,98,72]
"test.ua" [2,16,120,86] [2,17,123,87]
"test.ua" [2,13,116,83] [2,14,118,84]
"test.ua" [2,23,132,93] [2,24,135,94]
"test.ua" [2,21,128,91] [2,22,131,92]
"test.ua" [2,19,125,89] [2,20,127,90]
"test.ua" [2,28,142,98] [2,29,144,99]
"test.ua" [2,27,140,97] [2,28,142,98]
"test.ua" [2,26,138,96] [2,27,140,97]
"test.ua" [2,25,136,95] [2,26,138,96]
"test.ua" [2,40,165,110] [2,41,168,111]
"test.ua" [2,39,162,109] [2,40,165,110]
"test.ua" [2,38,159,108] [2,39,162,109]
"test.ua" [2,37,156,107] [2,38,159,108]
"test.ua" [2,35,152,105] [2,36,155,106]
"test.ua" [2,32,148,102] [2,33,150,103]
"test.ua" [2,31,146,101] [2,32,148,102]
"test.ua" [2,11,112,81] [2,12,115,82]
"test.ua" [2,9,110,79] [2,10,111,80]
"test.ua" [2,8,109,78] [2,9,110,79]
"test.ua" [2,6,105,76] [2,7,108,77]
"test.ua" [2,5,103,75] [2,6,105,76]
"test.ua" [3,1,216,156] [3,2,217,157]
"test.ua" [3,7,226,162] [3,8,228,163]
"test.ua" [3,6,224,161] [3,7,226,162]
"test.ua" [3,5,222,160] [3,6,224,161]
"test.ua" [5,1,284,215] [5,2,285,216]
"test.ua" [5,12,304,226] [5,13,307,227]
"test.ua" [5,11,301,225] [5,12,304,226]
"test.ua" [5,9,298,223] [5,10,300,224]
"test.ua" [5,8,296,222] [5,9,298,223]
"test.ua" [5,7,293,221] [5,8,296,222]
"test.ua" [5,5,290,219] [5,6,292,220]
"test.ua" [6,1,337,254] [6,2,338,255]
"test.ua" [6,16,362,269] [6,17,364,270]
"test.ua" [6,14,358,267] [6,15,361,268]
"test.ua" [6,13,356,266] [6,14,358,267]
"test.ua" [6,11,353,264] [6,12,355,265]
"test.ua" [6,9,349,262] [6,10,352,263]
"test.ua" [6,6,344,259] [6,7,345,260]
"test.ua" [6,5,343,258] [6,6,344,259]
"test.ua" [7,1,395,298] [7,2,396,299]
"test.ua" [7,17,421,314] [7,18,422,315]
"test.ua" [7,15,418,312] [7,16,419,313]
"test.ua" [7,13,415,310] [7,14,417,311]
"test.ua" [7,10,411,307] [7,11,412,308]
"test.ua" [7,9,408,306] [7,10,411,307]
"test.ua" [7,6,403,303] [7,7,406,304]
"test.ua" [7,5,401,302] [7,6,403,303]
"test.ua" [11,1,534,420] [11,6,539,425]
"test.ua" [11,14,551,433] [11,15,552,434]
"test.ua" [11,16,553,435] [11,17,554,436]
"test.ua" [11,12,547,431] [11,13,550,432]
"test.ua" [11,10,545,429] [11,11,546,430]
"test.ua" [11,9,544,428] [11,10,545,429]
"test.ua" [13,1,561,441] [13,2,562,442]
"test.ua" [14,1,579,456] [14,2,580,457]
"test.ua" [15,1,599,472] [15,9,607,480]
"test.ua" [16,1,617,487] [16,10,626,496]
"test.ua" [17,1,635,502] [17,5,639,506]
"test.ua" [17,13,649,514] [17,20,656,521]
"test.ua" [19,1,660,523] [19,3,662,525]
"test.ua" [19,9,672,531] [19,10,673,532]
"test.ua" [19,6,667,528] [19,7,669,529]
"test.ua" [20,1,705,563] [20,3,707,565]
"test.ua" [20,13,723,575] [20,14,724,576]
"test.ua" [20,16,726,578] [20,17,727,579]
"test.ua" [20,22,735,584] [20,23,738,585]
"test.ua" [20,20,731,582] [20,21,734,583]
"test.ua" [20,19,729,581] [20,20,731,582]
"test.ua" [20,27,744,589] [20,28,747,590]
"test.ua" [20,24,739,586] [20,25,741,587]
"test.ua" [20,11,719,573] [20,12,722,574]
"test.ua" [20,9,716,571] [20,10,718,572]
"test.ua" [20,8,714,570] [20,9,716,571]
"test.ua" [20,7,713,569] [20,8,714,570]
"test.ua" [20,6,712,568] [20,7,713,569]
"test.ua" [21,1,782,622] [21,3,784,624]
"test.ua" [21,8,793,629] [21,9,795,630]
"test.ua" [21,7,791,628] [21,8,793,629]
"test.ua" [21,6,789,627] [21,7,791,628]
"test.ua" [23,1,835,665] [23,6,840,670]
"test.ua" [23,26,864,690] [23,28,866,692]
"test.ua" [23,19,855,683] [23,20,858,684]
"test.ua" [23,13,849,677] [23,18,854,682]
"test.ua" [24,1,872,697] [24,10,881,706]
"test.ua" [24,19,893,715] [24,20,894,716]
"test.ua" [24,14,888,710] [24,15,889,711]
"test.ua" [24,13,886,709] [24,14,888,710]
"test.ua" [26,1,913,733] [26,6,918,738]
"test.ua" [26,16,936,748] [26,17,938,749]
"test.ua" [26,26,947,758] [26,27,949,759]
"test.ua" [26,14,932,746] [26,15,935,747]
"test.ua" [26,13,931,745] [26,14,932,746]
"test.ua" [26,11,927,743] [26,12,930,744]
"test.ua" [26,9,923,741] [26,10,926,742]
"test.ua" [28,1,987,793] [28,3,989,795]
"test.ua" [29,6,1002,805] [29,7,1004,806]
"test.ua" [29,5,999,804] [29,6,1002,805]
"test.ua" [30,30,1054,846] [30,31,1057,847]
"test.ua" [30,29,1051,845] [30,30,1054,846]
"test.ua" [30,26,1045,842] [30,27,1048,843]
"test.ua" [30,24,1042,840] [30,25,1044,841]
"test.ua" [30,23,1041,839] [30,24,1042,840]
"test.ua" [30,22,1038,838] [30,23,1041,839]
"test.ua" [30,15,1030,831] [30,20,1035,836]
"test.ua" [31,10,1073,862] [31,11,1075,863]

FILES
test.ua: "P ← ÷⊙+⊃(×3ⁿ2|¯ⁿ2◌|××3⊙⋅∘)                # a b c ← (3ac - b^2)/(3a^2)\r\nQ ← ÷⊙(++)⊃(×27ⁿ3|×2ⁿ3◌|¯×××9|××27ⁿ2⊙⋅⋅∘) # a b c d ← (2b^3 - 9abc + 27a^2d)/(27a^3)\r\nS ← ¯÷×3                                  # a b ← -b/(3a)\r\n\r\nR ← ×2√¯÷3⊙◌       # p q ← 2sqrt(-p/3)\r\nA ← -:η°∿ ×3÷⊃R÷   # p q ← arccos(3(q/p)/R)\r\nD ← ×⊃R(∿+η ÷3-τA) # p q ← R cos((A-2π)/3)\r\n\r\n# solve ax^3 + bx^2 + cx + d = 0\r\n# assumes 3 real roots - take the middle one\r\nCubic ← +D ⊃(P|Q|S)\r\n\r\na         ← 10\r\nb         ← ¯30\r\nSegments  ← 20\r\nFramerate ← 24\r\nSize      ← 100_100\r\n\r\nCb ← ×¯2+a b                  # -2(a+b)\r\nCc ← ++××2⊃(+b|+a|¯ⁿ2◌|×¯3ⁿ2) # y x ← 2(a+y)(b+y)-x^2-3y^2\r\nCd ← ×××¯2 a b                # y ← -2aby\r\n\r\nParam     ← Cubic ⊃(1|Cb|Cc|Cd)\r\nNormalise ← ÷-b a -b # (t-b)/(a-b)\r\n\r\nShade ← ◿2⌊ +⊓(×Segments|÷Framerate) # value time ← 0 or 1\r\n\r\nfn = (\r\n    ⇡×2Framerate\r\n    Normalise Param °⊟-÷2⟜(°⍉⇡)Size\r\n    Shade¤\r\n)"
